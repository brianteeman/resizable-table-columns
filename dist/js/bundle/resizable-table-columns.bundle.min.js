var ResizableTableColumns=function(){"use strict";var l=function(){function n(){}return n.escapeRegExp=function(e){return e.replace(n.regexEscapeRegex,"\\$&")},n.kebabCaseToCamelCase=function(e){return e.replace(n.kebabCaseRegex,function(e){return e[1].toUpperCase()})},n.parseStringToType=function(e){if(0==e.length||n.onlyWhiteSpace.test(e))return e;if(n.trueRegex.test(e))return!0;if(n.falseRegex.test(e))return!1;if(n.notEmptyOrWhiteSpace.test(e)){var t=+e;if(!isNaN(t))return t}return e},n.parseStyleDimension=function(e,t){if("string"==typeof e){if(e.length){var n=e.replace("px","").replace(",","."),i=parseFloat(n);if(!isNaN(i))return i}}else if("number"==typeof e)return e;return t?e:0},n.regexEscapeRegex=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,n.kebabCaseRegex=/(\-\w)/g,n.trueRegex=/^true$/i,n.falseRegex=/^false$/i,n.onlyWhiteSpace=/^\s$/,n.notEmptyOrWhiteSpace=/\S/,n}(),y=function(){function a(){}return a.addClass=function(e,t){e.classList?e.classList.add(t):a.hasClass(e,t)||(e.className+=" "+t)},a.removeClass=function(e,t){if(e.classList)e.classList.remove(t);else if(a.hasClass(e,t)){var n=new RegExp("(\\s|^)"+l.escapeRegExp(t)+"(\\s|$)");e.className=e.className.replace(n," ")}},a.hasClass=function(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+l.escapeRegExp(t)+"(\\s|$)"))},a.getDataAttributesValues=function(e){if(!e)return null;var t={};if(e.dataset)for(var n in e.dataset)e.dataset.hasOwnProperty(n)&&(t[n]=l.parseStringToType(e.dataset[n]));else for(var i=0;i<e.attributes.length;i++){if(/^data\-/.test(e.attributes[i].name))t[l.kebabCaseToCamelCase(e.attributes[i].name.replace("data-",""))]=l.parseStringToType(e.attributes[i].value)}return t},a.getMinCssWidth=function(e){var t=e.ownerDocument.defaultView.getComputedStyle(e).minWidth,n=l.parseStyleDimension(t,!0);return"number"!=typeof n||isNaN(n)?null:n},a.getMaxCssWidth=function(e){var t=e.ownerDocument.defaultView.getComputedStyle(e).maxWidth,n=l.parseStyleDimension(t,!0);return"number"!=typeof n||isNaN(n)?null:n},a.getOuterWidth=function(e,t){void 0===t&&(t=!1);var n=e.offsetWidth;if(!t)return n;var i=e.ownerDocument.defaultView.getComputedStyle(e);return n+l.parseStyleDimension(i.marginTop,!1)+l.parseStyleDimension(i.marginBottom,!1)},a.getInnerWidth=function(e){var t=a.getOuterWidth(e),n=e.ownerDocument.defaultView.getComputedStyle(e);return t-l.parseStyleDimension(n.borderLeft,!1)-l.parseStyleDimension(n.borderRight,!1)},a.getWidth=function(e){var t=a.getOuterWidth(e),n=e.ownerDocument.defaultView.getComputedStyle(e);return t-l.parseStyleDimension(n.paddingLeft,!1)-l.parseStyleDimension(n.paddingRight,!1)-l.parseStyleDimension(n.borderLeft,!1)-l.parseStyleDimension(n.borderRight,!1)},a.getOuterHeight=function(e,t){void 0===t&&(t=!1);var n=e.offsetHeight;if(!t)return n;var i=e.ownerDocument.defaultView.getComputedStyle(e);return n+l.parseStyleDimension(i.marginTop,!1)+l.parseStyleDimension(i.marginBottom,!1)},a.getInnerHeight=function(e){var t=a.getOuterHeight(e),n=e.ownerDocument.defaultView.getComputedStyle(e);return t-l.parseStyleDimension(n.borderTop,!1)-l.parseStyleDimension(n.borderBottom,!1)},a.getHeight=function(e){var t=a.getOuterHeight(e),n=e.ownerDocument.defaultView.getComputedStyle(e);return t-l.parseStyleDimension(n.paddingTop,!1)-l.parseStyleDimension(n.paddingBottom,!1)-l.parseStyleDimension(n.borderTop,!1)-l.parseStyleDimension(n.borderBottom,!1)},a.getOffset=function(e){if(!e)return null;var t=e.getBoundingClientRect();return{top:t.top+e.ownerDocument.body.scrollTop,left:t.left+e.ownerDocument.body.scrollLeft}},a.matches=function(e,t){for(var n,i=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],a=0;a<i.length;a++)if("function"==typeof e.ownerDocument.body[i[a]]){n=i[a];break}return e[n](t)},a.closest=function(e,t){if(!e)return null;if("function"==typeof e.closest)return e.closest(t);for(var n=e;n&&1===n.nodeType;){if(a.matches(n,t))return n;n=n.parentNode}return null},a.getPointerX=function(e){if(0===e.type.indexOf("touch")){if(e.touches&&e.touches.length)return e.touches[0].pageX;if(e.changedTouches&&e.changedTouches.length)return e.changedTouches[0].pageX}return e.pageX},a.getTextWidth=function(e,t){if(!e||!t)return 0;var n=e.textContent.trim().replace(/\s/g,"&nbsp;")+"&nbsp;",i=e.ownerDocument.defaultView.getComputedStyle(e);return["fontFamily","fontSize","fontWeight","padding","border"].forEach(function(e){t.style[e]=i[e]}),t.innerHTML=n,a.getOuterWidth(t,!0)},a}(),n=function(){function e(e,t){this.resizeFromBody=!0,this.minWidth=40,this.maxWidth=null,this.obeyCssMinWidth=!1,this.obeyCssMaxWidth=!1,this.doubleClickDelay=500,this.store=null,this.overrideValues(e),this.overrideValuesFromElement(t)}return e.prototype.overrideValues=function(e){if(e)for(var t in e)this.hasOwnProperty(t)&&(this[t]=e[t])},e.prototype.overrideValuesFromElement=function(e){if(e){var t=y.getDataAttributesValues(e);this.overrideValues(t)}},e}(),w=function(){function e(){}return e.dataPropertyname="rtc_data_object",e.classes={table:"rtc-table",wrapper:"rtc-wrapper",handleContainer:"rtc-handle-container",handle:"rtc-handle",tableResizing:"rtc-table-resizing",columnResizing:"rtc-column-resizing"},e.attibutes={dataResizable:"data-rtc-resizable",dataResizableTable:"data-rtc-resizable-table"},e.data={resizable:"rtcResizable",resizableTable:"rtcResizableTable"},e.events={pointerDown:["mousedown","touchstart"],pointerMove:["mousemove","touchmove"],pointerUp:["mouseup","touchend"],windowResize:["resize"],eventResizeStart:"eventResizeStart.rtc",eventResize:"eventResize.rtc",eventResizeStop:"eventResizeStop.rtc"},e}(),c=function(){};return function(){function v(e,t){if("object"!=typeof e||null===e||"[object HTMLTableElement]"!==e.toString())throw'Invalid argument: "table".\nResizableTableColumns requires that the table element is a not null HTMLTableElement object!';if(void 0!==e[w.dataPropertyname])throw'Existing "'+w.dataPropertyname+"\" property.\nTable elemet already has a '"+w.dataPropertyname+"' attached object!";this.id=v.getInstanceId(),this.table=e,this.options=new n(t,e),this.wrapper=null,this.ownerDocument=e.ownerDocument,this.tableHeaders=[],this.dragHandlesContainer=null,this.originalWidths={},this.eventData=null,this.lastPointerDown=0,this.init(),this.table[w.dataPropertyname]=this}return v.prototype.init=function(){this.validateMarkup(),this.createHandlerReferences(),this.wrapTable(),this.asignTableHeaders(),this.storeOriginalWidths(),this.setHeaderWidths(),this.createDragHandles(),this.restoreColumnWidths(),this.checkTableWidth(),this.syncHandleWidths(),this.registerWindowResizeHandler()},v.prototype.dispose=function(){this.destroyDragHandles(),this.restoreOriginalWidths(),this.unwrapTable(),this.onPointerDownRef=null,this.onPointerMoveRef=null,this.onPointerUpRef=null,this.table[w.dataPropertyname]=void 0},v.prototype.validateMarkup=function(){for(var e,t=0,n=0,i=0;i<this.table.childNodes.length;i++){"THEAD"===(l=this.table.childNodes[i]).nodeName?(t++,e=l):"TBODY"===l.nodeName&&n++}if(1!==t)throw"Markup validation: thead count.\nResizableTableColumns requires that the table element has one(1) table head element. Current count: "+t;if(1!==n)throw"Markup validation: tbody count.\nResizableTableColumns requires that the table element has one(1) table body element. Current count: "+n;var a=0,s=null;for(i=0;i<e.childNodes.length;i++){"TR"===(l=e.childNodes[i]).nodeName&&(a++,null===s&&(s=l))}if(a<1)throw"Markup validation: thead row count.\nResizableTableColumns requires that the table head element has at least one(1) table row element. Current count: "+a;var r=0,o=0;for(i=0;i<s.childNodes.length;i++){var l;"TH"===(l=s.childNodes[i]).nodeName?r++:"TD"===l.nodeName&&o++}if(r<1)throw"Markup validation: thead first row cells count.\nResizableTableColumns requires that the table head's first row element has at least one(1) table header cell element. Current count: "+r;if(0!==o)throw"Markup validation: thead first row invalid.\nResizableTableColumns requires that the table head's first row element has no(0) table cell(TD) elements. Current count: "+o},v.prototype.wrapTable=function(){if(!this.wrapper){this.wrapper=this.ownerDocument.createElement("div");var e=this.table.parentNode;e.insertBefore(this.wrapper,this.table),e.removeChild(this.table),this.wrapper.appendChild(this.table),y.addClass(this.wrapper,w.classes.wrapper),y.addClass(this.table,w.classes.table)}},v.prototype.unwrapTable=function(){if(y.removeClass(this.table,w.classes.table),this.wrapper){var e=this.wrapper.parentNode;e.insertBefore(this.table,this.wrapper),e.removeChild(this.wrapper),this.wrapper=null}},v.prototype.asignTableHeaders=function(){for(var e,t,n=0;n<this.table.childNodes.length;n++){if("THEAD"===(i=this.table.childNodes[n]).nodeName){e=i;break}}for(n=0;n<e.childNodes.length;n++){if("TR"===(i=e.childNodes[n]).nodeName){t=i;break}}for(n=0;n<t.childNodes.length;n++){var i;"TH"===(i=t.childNodes[n]).nodeName&&this.tableHeaders.push(i)}},v.prototype.storeOriginalWidths=function(){var n=this;this.tableHeaders.forEach(function(e,t){n.originalWidths["___."+t]=e.style.width}),this.originalWidths["___.table"]=this.table.style.width},v.prototype.restoreOriginalWidths=function(){var n=this;this.tableHeaders.forEach(function(e,t){e.style.width=n.originalWidths["___."+t]}),this.table.style.width=this.originalWidths["___.table"]},v.prototype.setHeaderWidths=function(){var a=this;this.tableHeaders.forEach(function(e,t){var n=y.getWidth(e),i=a.constrainWidth(e,n);v.setWidth(e,i)})},v.prototype.constrainWidth=function(e,t){var n=t,i=this.options.obeyCssMinWidth?y.getMinCssWidth(e):-1/0;n=Math.max(n,i,this.options.minWidth||-1/0);var a=this.options.obeyCssMaxWidth?y.getMaxCssWidth(e):1/0;return n=Math.min(n,a,this.options.maxWidth||1/0)},v.prototype.createDragHandles=function(){var i=this;if(null!=this.dragHandlesContainer)throw"Drag handlers allready created. Call <destroyDragHandles> if you wish to recreate them";this.dragHandlesContainer=this.ownerDocument.createElement("div"),this.wrapper.insertBefore(this.dragHandlesContainer,this.table),y.addClass(this.dragHandlesContainer,w.classes.handleContainer),this.getResizableHeaders().forEach(function(e,t){var n=i.ownerDocument.createElement("div");y.addClass(n,w.classes.handle),i.dragHandlesContainer.appendChild(n)}),w.events.pointerDown.forEach(function(e,t){i.dragHandlesContainer.addEventListener(e,i.onPointerDownRef,!1)})},v.prototype.destroyDragHandles=function(){var n=this;null!==this.dragHandlesContainer&&(w.events.pointerDown.forEach(function(e,t){n.dragHandlesContainer.removeEventListener(e,n.onPointerDownRef,!1)}),this.dragHandlesContainer.parentElement.removeChild(this.dragHandlesContainer))},v.prototype.getDragHandlers=function(){var e=null==this.dragHandlesContainer?null:this.dragHandlesContainer.querySelectorAll("."+w.classes.handle);return e?Array.prototype.slice.call(e).filter(function(e){return"DIV"===e.nodeName}):new Array},v.prototype.restoreColumnWidths=function(){if(this.options.store){var e=v.generateTableId(this.table);if(0!==e.length){var i=this.options.store.get(e);i&&(this.getResizableHeaders().forEach(function(e,t){var n=i.columns[v.generateColumnId(e)];void 0!==n&&v.setWidth(e,n)}),void 0!==i.table&&v.setWidth(this.table,i.table))}}},v.prototype.checkTableWidth=function(){var e=y.getWidth(this.wrapper),t=e-y.getOuterWidth(this.table,!0);if(0<t){var i=0,a=0,n=0,s=[];this.tableHeaders.forEach(function(e,t){var n=v.getWidth(e);s.push(n),i+=n,e.hasAttribute(w.attibutes.dataResizable)&&(a+=n)}),v.setWidth(this.table,e);for(var r=0;r<this.tableHeaders.length;r++){var o=this.tableHeaders[r],l=s.shift();if(o.hasAttribute(w.attibutes.dataResizable)){var h=l+l/a*t,d=i+t-n;h=Math.min(h,d),h=Math.max(h,0);var u=this.constrainWidth(o,h);v.setWidth(o,u),n+=h}else n+=l;if(i<=n)break}}},v.prototype.syncHandleWidths=function(){var r=this,e=y.getWidth(this.table);v.setWidth(this.dragHandlesContainer,e),this.dragHandlesContainer.style.minWidth=e+"px";var o=this.getResizableHeaders();this.getDragHandlers().forEach(function(e,t){var n=y.getInnerHeight(r.options.resizeFromBody?r.table:r.table.tHead);if(t<o.length){var i=o[t],a=getComputedStyle(i),s=y.getOuterWidth(i);s-=l.parseStyleDimension(a.paddingLeft,!1),s-=l.parseStyleDimension(a.paddingRight,!1),s+=y.getOffset(i).left,s-=y.getOffset(r.dragHandlesContainer).left,e.style.left=s+"px",e.style.height=n+"px"}})},v.prototype.getResizableHeaders=function(){return this.tableHeaders.filter(function(e,t){return e.hasAttribute(w.attibutes.dataResizable)})},v.prototype.handlePointerDown=function(e){this.handlePointerUp();var t=e?e.target:null;if(null!=t&&"DIV"===t.nodeName&&y.hasClass(t,w.classes.handle)&&("number"!=typeof e.button||0===e.button)){var n=t,i=this.getDragHandlers().indexOf(n),a=this.getResizableHeaders();if(!(i>=a.length)){var s=(new Date).getTime(),r=s-this.lastPointerDown<this.options.doubleClickDelay,o=a[i],l=v.getWidth(o),h=v.getWidth(this.table),d=new c;d.column=o,d.dragHandler=n,d.pointer={x:y.getPointerX(e),isDoubleClick:r},d.originalWidths={column:l,table:h},this.detachHandlers(),this.attachHandlers(),y.addClass(this.table,w.classes.tableResizing),y.addClass(this.wrapper,w.classes.tableResizing),y.addClass(n,w.classes.columnResizing),y.addClass(o,w.classes.columnResizing),this.lastPointerDown=s,this.eventData=d;var u=new CustomEvent(w.events.eventResizeStart,{detail:{column:o,columnWidth:l,table:this.table,tableWidth:h}});this.table.dispatchEvent(u),e.preventDefault()}}},v.prototype.handlePointerMove=function(e){if(this.eventData&&e){var t=y.getPointerX(e)-this.eventData.pointer.x;if(0!==t){var n=this.eventData.originalWidths.table+t,i=this.constrainWidth(this.eventData.column,this.eventData.originalWidths.column+t);v.setWidth(this.table,n),v.setWidth(this.eventData.column,i),this.eventData.newWidths={column:i,table:n};var a=new CustomEvent(w.events.eventResize,{detail:{column:this.eventData.column,columnWidth:i,table:this.table,tableWidth:n}});this.table.dispatchEvent(a)}}},v.prototype.handlePointerUp=function(){if(this.detachHandlers(),this.eventData){this.eventData.pointer.isDoubleClick&&this.handleDoubleClick(),y.removeClass(this.table,w.classes.tableResizing),y.removeClass(this.wrapper,w.classes.tableResizing),y.removeClass(this.eventData.dragHandler,w.classes.columnResizing),y.removeClass(this.eventData.column,w.classes.columnResizing),this.checkTableWidth(),this.syncHandleWidths(),this.refreshWrapperStyle(),this.saveColumnWidths();var e=this.eventData.newWidths||this.eventData.originalWidths,t=new CustomEvent(w.events.eventResizeStop,{detail:{column:this.eventData.column,columnWidth:e.column,table:this.table,tableWidth:e.table}});this.table.dispatchEvent(t),this.eventData=null}},v.prototype.handleDoubleClick=function(){if(this.eventData&&this.eventData.column){var e=this.eventData.column,t=this.tableHeaders.indexOf(e),n=0,i=[];this.tableHeaders.forEach(function(e,t){e.hasAttribute(w.attibutes.dataResizable)||i.push(t)});var a=this.ownerDocument.createElement("span");a.style.position="absolute",a.style.left="-99999px",a.style.top="-99999px",a.style.visibility="hidden",this.ownerDocument.body.appendChild(a);for(var s=this.table.querySelectorAll("tr"),r=0;r<s.length;r++)for(var o=s[r].querySelectorAll("td, th"),l=0,h=0;h<o.length;h++){var d=o[h],u=1;if(d.hasAttribute("colspan")){var c=d.getAttribute("colspan")||"1",p=parseInt(c);u=isNaN(p)?1:p}if(-1===i.indexOf(h)&&1===u&&l===t){n=Math.max(n,y.getTextWidth(d,a));break}l+=u}this.ownerDocument.body.removeChild(a);var f=n-y.getWidth(e);if(0!==f){var b=this.eventData.originalWidths.table+f,m=this.constrainWidth(this.eventData.column,this.eventData.originalWidths.column+f);v.setWidth(this.table,b),v.setWidth(this.eventData.column,m),this.eventData.newWidths={column:m,table:b};var g=new CustomEvent(w.events.eventResize,{detail:{column:this.eventData.column,columnWidth:m,table:this.table,tableWidth:b}});this.table.dispatchEvent(g)}}},v.prototype.attachHandlers=function(){var n=this;w.events.pointerMove.forEach(function(e,t){n.ownerDocument.addEventListener(e,n.onPointerMoveRef,!1)}),w.events.pointerUp.forEach(function(e,t){n.ownerDocument.addEventListener(e,n.onPointerUpRef,!1)})},v.prototype.detachHandlers=function(){var n=this;w.events.pointerMove.forEach(function(e,t){n.ownerDocument.removeEventListener(e,n.onPointerMoveRef,!1)}),w.events.pointerUp.forEach(function(e,t){n.ownerDocument.removeEventListener(e,n.onPointerUpRef,!1)})},v.prototype.refreshWrapperStyle=function(){if(null!=this.wrapper){var e=this.wrapper.style.overflowX;this.wrapper.style.overflowX="hidden",this.wrapper.style.overflowX=e}},v.prototype.saveColumnWidths=function(){if(this.options.store){var e=v.generateTableId(this.table);if(0!==e.length){var n={table:v.getWidth(this.table),columns:{}};this.getResizableHeaders().forEach(function(e,t){n.columns[v.generateColumnId(e)]=v.getWidth(e)}),this.options.store.set(e,n)}}},v.prototype.createHandlerReferences=function(){var t=this;this.onPointerDownRef||(this.onPointerDownRef=function(e){t.handlePointerDown(e)}),this.onPointerMoveRef||(this.onPointerMoveRef=function(e){t.handlePointerMove(e)}),this.onPointerUpRef||(this.onPointerUpRef=function(e){t.handlePointerUp()})},v.prototype.registerWindowResizeHandler=function(){var n=this.ownerDocument.defaultView;v.windowResizeHandlerRegistered||(v.windowResizeHandlerRegistered=!0,w.events.windowResize.forEach(function(e,t){n.addEventListener(e,v.onWindowResize,!1)}))},v.prototype.handleWindowResize=function(){this.checkTableWidth(),this.syncHandleWidths()},v.onWindowResize=function(e){var t=e?e.target:null;if(null!=t)for(var n=t.document.querySelectorAll("."+w.classes.table),i=0;i<n.length;i++){var a=n[i];"object"==typeof a[w.dataPropertyname]&&a[w.dataPropertyname].handleWindowResize()}},v.generateColumnId=function(e){return(e.getAttribute(w.attibutes.dataResizable)||"").trim().replace(/\./g,"_")},v.generateTableId=function(e){var t=(e.getAttribute(w.attibutes.dataResizableTable)||"").trim().replace(/\./g,"_");return t.length?"rtc/"+t:t},v.getWidth=function(e){return""===e.style.width?y.getWidth(e):l.parseStyleDimension(e.style.width,!1)},v.setWidth=function(e,t){var n=t.toFixed(2);n=0<t?n:"0",e.style.width=n+"px"},v.getInstanceId=function(){return v.instancesCount++},v.instancesCount=0,v.windowResizeHandlerRegistered=!1,v}()}();